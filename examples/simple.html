<html>

<head>
    <script src="js/vue.js"></script>
    <script src="js/vee-validate.js"></script>
    <script src="../dist/dryv-vee-validate.js"></script>
</head>

<body>
    <form id="app" v-on:submit="dryvVee">
        <div>
            <label for="name">Name:</label>
            <!-- The dryv-v and v-validate attributes get generated by the server-side components of Dryv. -->
            <input type="text" name="name" value="wrong" dryv-v="v001" v-validate="'required|dryv:v001'" />
            <span>{{ errors.first('name') }}</span>
        </div>
        <div>
            <label for="name">Url:</label>
            <!-- The dryv-v and v-validate attributes get generated by the server-side components of Dryv. -->
            <input type="text" name="url" dryv-v="v001" v-validate="'required|dryv-remote:v001,http://some.url.com,name'" />
            <span>{{ errors.first('url') }}</span>
        </div>
        <button type="submit">Send</button>
    </form>

    <script>
        Vue.use(VeeValidate);
        DryvVeeValidate.init(VeeValidate);

        var app = new Vue({
            el: "#app",
            mixins: [DryvVeeValidate.mixin],
            data: {}
        });
    </script>

    <script>
        // This code gets generated by the server-side components of Dryv.
        (function (w) {
            var d = w.dryv = (w.dryv || {});
            var v = d.vee = (d.vee || {});
            var v001 = v.v001 = (v.v001 || {});
            v001.v = [function (m) { return m.name !== "correct" ? "The name must be correct." : null; }];
        })(window);
    </script>
</body>

</html>